# Postman collection

This documentation is generated by [Afterman](https://github.com/itsalb3rt/afterman) tool. If you want the original postman collection, please <a :href="$withBase('/ta-vivo.postman_collection.json')" download>click here</a>.
  
<h2 class="text-h5 q-my-md">Table of content</h2>

üìÅ <a href="#1l2nlt056" class="item text-capitalize">- checks</a>

- GET [/checks](#1l2nlt057)
- POST [/checks](#1l2nlt058)
- PUT [/checks/{id}](#1l2nlt059)
- GET [/checks/{id}](#1l2nlt05a)
- DELETE [/checks/{id}](#1l2nlt05b)
- GET [/checks/{id}/logs](#1l2nlt05c)
  
üìÅ <a href="#1l2nlt05d" class="item text-capitalize">- integrations</a>

- GET [/integrations](#1l2nlt05e)
- POST [/integrations](#1l2nlt05f)
- POST [/integrations/request-email-code](#1l2nlt05g)
- POST [/integrations/slack](#1l2nlt05h)
- POST [/integrations/test](#1l2nlt05i)
- PUT [/integrations](#1l2nlt05j)
- DELETE [/integrations/{id}](#1l2nlt05k)
  
üìÅ <a href="#1l2nlt05l" class="item text-capitalize">- dashboard</a>

- GET [/dashboard](#1l2nlt05m)

üìÅ <a href="#1l2nlt05n" class="item text-capitalize">- auth</a>

- POST [/login](#1l2nlt05o)
- POST [/register](#1l2nlt05p)
- POST [/change-password](#1l2nlt05q)
- POST [/register-confirme-email](#1l2nlt05r)
- POST [/forgot-password](#1l2nlt05s)
- POST [/recover-password](#1l2nlt05t)
- GET [/request-register-confirme-email](#1l2nlt05u)
- GET [/me](#1l2nlt05v)

üìÅ <a href="#1l2nlt05w" class="item text-capitalize">- payments</a>

- GET [/paypal-request-token](#1l2nlt05x)
- POST [/paypal-subscription](#1l2nlt05y)
- POST [/paypal-subscription-cancel](#1l2nlt05z)
- GET [/paypal-transactions](#1l2nlt060)

üìÅ <a href="#1l2nlt061" class="item text-capitalize">- pricing</a>

- GET [/pricing](#1l2nlt062)

ta-vivo
=======

[Filters and More](/#filters-and-more)
======================================

The filters and sort work with `QueryStringConvertHelper.js` Util, for use it only import and use in your controller.

    import querystringConverterHelper from '../utils/querystringConverterHelper';
    // ..
    let { where, limit, offset, order } = querystringConverterHelper.parseQuery(query);
    
    

<h2 id="query-string" name="query-string" class="q-markdown--heading q-markdown--heading-h2 q-markdown--heading--anchor-link"><a href="/#query-string" aria-hidden="true" class="q-markdown--link q-markdown--link-local">Query string</a></h2>

**Filters**

**between**

For example for check createdAt from `2020-09-01` to `2020-09-30`.

    api/visits?createdAt=between:2020-09-01,2020-09-30
    
    

**Like**

For using `like` operator you can pass `search` query string var with `where` for indicate columns.

    api/visits?search=some&where=reasonVisit
    
    

This search for `some` in `reasonVisit` column.

**Limit and offset**

You can use `limit` and `offset` for pagination.

    api/visits?limit=10&page=2
    
    

This example returns the records between 11 to 20

**Order**

Use `-` sign for descending while `+` for ascending, by default if sign is not presented it will automatically set to `+` sign (ex: `sort=-created_at` or `sort=+created_at`). Value can be separated by a comma if multiple sort condition is needed (ex: `sort=id,name`).

    api/visits?sort=-created_at
    
    

More information: [https://github.com/perbert27/sequelize-querystring-converter](https://github.com/perbert27/sequelize-querystring-converter)

* * *

<h2 id="1l2nlt056" class="text-h4 q-mt-md q-mb-xs">Checks</h2>

<strong style="color:#21BA45">GET</strong> - <strong id="1l2nlt057" class="text-bold request-name">/checks</strong>

#### Headers

    http://localhost:5000/api/checks
    

Description

[Response 2xx](/#response-2xx)
==============================

    {
        "message": "Check list",
        "data": [
            {
                "id": 8,
                "target": "google.com",
                "periodToCheck": "*/10 * * * * *",
                "enabled": false,
                "createdAt": "2021-12-16T02:57:06.754Z",
                "updatedAt": "2021-12-16T02:57:12.880Z",
                "userId": 1
            },
            {
                "id": 9,
                "target": "google.com",
                "periodToCheck": "*/10 * * * *",
                "enabled": false,
                "createdAt": "2021-12-16T03:31:31.728Z",
                "updatedAt": "2021-12-16T03:32:36.143Z",
                "userId": 1
            }
        ],
        "status": 200,
        "pagination": {
            "count": 2,
            "offset": 0
        }
    }
    
    

* * *

Body

* * *

<strong style="color:#1976D2">POST</strong> - <strong id="1l2nlt058" class="text-bold request-name">/checks</strong>

#### Headers

    http://localhost:5000/api/checks
    

Description

Add integration:

To add integration to check you need pass a `addIntegrations` property with array of integrations:

    {
      "addIntegrations": [
        {
          "id": 1
        },
        {
          "id": 2
        }
      ]
    }
    
    

[Response 2xx](/#response-2xx)
==============================

    {
        "message": "Check created",
        "data": {
            "id": 9,
            "target": "https://sheiley-shop.netlify.app",
            "periodToCheck": "*/10 * * * * *",
            "enabled": true,
            "userId": 1,
            "updatedAt": "2021-12-16T03:31:31.728Z",
            "createdAt": "2021-12-16T03:31:31.728Z"
        },
        "status": 200
    }
    
    

* * *

Body

    {
        "name": "some name",
        "target": "https://sheiley-shop.netlify.app",
        "periodToCheck": "10s",
        "enabled": true,
        "addIntegrations": [
            {
                "id": 1
            }
        ]
    }
    

* * *

<strong style="color:#9e9e9e">PUT</strong> - <strong id="1l2nlt059" class="text-bold request-name">/checks/{id}</strong>

#### Headers

    http://localhost:5000/api/checks/8
    

Description

    {
      "addIntegrations": [
        {
          "id": 1
        },
        {
          "id": 2
        }
      ]
    }
    
    

To remove integrations you need to pass `removeIntegrations` property

    {
        "removeIntegrations": [
            {
                "id": 2
            }
        ]
    }
    
    

[Response 2xx](/#response-2xx)
==============================

    {
        "message": "Check Updated",
        "data": {
            "id": 9,
            "target": "google.com",
            "periodToCheck": "*/10 * * * *",
            "enabled": false,
            "createdAt": "2021-12-16T03:31:31.728Z",
            "updatedAt": "2021-12-16T03:32:36.143Z",
            "userId": 1,
            "check_integrations": [
                {
                    "id": 9,
                    "createdAt": "2021-12-16T03:31:31.774Z",
                    "updatedAt": "2021-12-16T03:31:31.774Z",
                    "checkId": 9,
                    "integrationId": 1,
                    "integration": {
                        "id": 1,
                        "name": "My Telegram integration",
                        "type": "telegram",
                        "appUserId": "724402246",
                        "createdAt": "2021-12-16T02:42:57.529Z",
                        "updatedAt": "2021-12-16T02:42:57.529Z",
                        "userId": 1
                    }
                }
            ]
        },
        "status": 200
    }
    
    

* * *

Body

    {
        "target": "google.com",
        "periodToCheck": "10m",
        "enabled": false,
        "addIntegrations": [
            {
                "id": 2
            }
        ]
    }
    

* * *

<strong style="color:#21BA45">GET</strong> - <strong id="1l2nlt05a" class="text-bold request-name">/checks/{id}</strong>

#### Headers

    http://localhost:5000/api/checks/8
    

Description

[Response 2xx](/#response-2xx)
==============================

    {
        "message": "Check found",
        "data": {
            "id": 8,
            "target": "google.com",
            "periodToCheck": "*/10 * * * * *",
            "enabled": false,
            "createdAt": "2021-12-16T02:57:06.754Z",
            "updatedAt": "2021-12-16T02:57:12.880Z",
            "userId": 1,
            "check_integrations": [
                {
                    "id": 8,
                    "createdAt": "2021-12-16T02:57:06.781Z",
                    "updatedAt": "2021-12-16T02:57:06.781Z",
                    "checkId": 8,
                    "integrationId": 1,
                    "integration": {
                        "id": 1,
                        "name": "My Telegram integration",
                        "type": "telegram",
                        "appUserId": "724402246",
                        "createdAt": "2021-12-16T02:42:57.529Z",
                        "updatedAt": "2021-12-16T02:42:57.529Z",
                        "userId": 1
                    }
                }
            ]
        },
        "status": 200
    }
    
    

* * *

Body

* * *

<strong style="color:#C10015">DELETE</strong> - <strong id="1l2nlt05b" class="text-bold request-name">/checks/{id}</strong>

#### Headers

    http://localhost:5000/api/checks/7
    

Description

* * *

Body

* * *

<strong style="color:#21BA45">GET</strong> - <strong id="1l2nlt05c" class="text-bold request-name">/checks/{id}/logs</strong>

#### Headers

    http://localhost:5000/api/checks/8/logs
    

Description

[Response 2xx](/#response-2xx)
==============================

    {
        "message": "Check logs found",
        "data": [
            {
                "id": 10,
                "status": "up",
                "createdAt": "2021-12-16T02:57:10.812Z",
                "updatedAt": "2021-12-16T02:57:10.812Z",
                "checkId": 8
            },
            {
                "id": 11,
                "status": "down",
                "createdAt": "2021-12-16T02:57:20.011Z",
                "updatedAt": "2021-12-16T02:57:20.011Z",
                "checkId": 8
            },
            {
                "id": 12,
                "status": "down",
                "createdAt": "2021-12-16T02:57:30.007Z",
                "updatedAt": "2021-12-16T02:57:30.007Z",
                "checkId": 8
            },
            {
                "id": 13,
                "status": "down",
                "createdAt": "2021-12-16T02:57:40.004Z",
                "updatedAt": "2021-12-16T02:57:40.004Z",
                "checkId": 8
            },
            {
                "id": 14,
                "status": "down",
                "createdAt": "2021-12-16T03:01:30.025Z",
                "updatedAt": "2021-12-16T03:01:30.025Z",
                "checkId": 8
            },
            {
                "id": 15,
                "status": "down",
                "createdAt": "2021-12-16T03:01:40.010Z",
                "updatedAt": "2021-12-16T03:01:40.010Z",
                "checkId": 8
            },
            {
                "id": 16,
                "status": "down",
                "createdAt": "2021-12-16T03:01:50.008Z",
                "updatedAt": "2021-12-16T03:01:50.008Z",
                "checkId": 8
            },
            {
                "id": 17,
                "status": "down",
                "createdAt": "2021-12-16T03:02:10.015Z",
                "updatedAt": "2021-12-16T03:02:10.015Z",
                "checkId": 8
            },
            {
                "id": 18,
                "status": "down",
                "createdAt": "2021-12-16T03:02:20.011Z",
                "updatedAt": "2021-12-16T03:02:20.011Z",
                "checkId": 8
            },
            {
                "id": 19,
                "status": "down",
                "createdAt": "2021-12-16T03:02:30.006Z",
                "updatedAt": "2021-12-16T03:02:30.006Z",
                "checkId": 8
            }
        ],
        "status": 200,
        "pagination": {
            "count": 10,
            "offset": 0
        }
    }
    
    

* * *

Body

* * *

* * *

* * *

<h2 id="1l2nlt05d" class="text-h4 q-mt-md q-mb-xs">Integrations</h2>

<strong style="color:#21BA45">GET</strong> - <strong id="1l2nlt05e" class="text-bold request-name">/integrations</strong>

#### Headers

    http://localhost:5000/api/integrations
    

Description

[Response 2xx](/#response-2xx)
==============================

    {
        "message": "Integrations list",
        "data": [
            {
                "id": 1,
                "name": "My Telegram integration",
                "type": "telegram",
                "appUserId": "724402246",
                "createdAt": "2021-12-16T02:42:57.529Z",
                "updatedAt": "2021-12-16T02:42:57.529Z",
                "userId": 1
            }
        ],
        "status": 200,
        "pagination": {
            "count": 1,
            "offset": 0
        }
    }
    
    

* * *

Body

* * *

<strong style="color:#1976D2">POST</strong> - <strong id="1l2nlt05f" class="text-bold request-name">/integrations</strong>

#### Headers

    http://localhost:5000/api/integrations
    

Description

When the user request a integration with `Telegram` the body require a `name` property to set the name into integrations.

When the user request a `email` integration, only the `uniqueCode` is requiere.

* * *

Body

    {
        "uniqueCode": "f8skj"
    }
    

* * *

<strong style="color:#1976D2">POST</strong> - <strong id="1l2nlt05g" class="text-bold request-name">/integrations/request-email-code</strong>

#### Headers

    http://localhost:5000/api/integrations/request-email-code
    

Description

[Response 2xx](/#response-2xx)
==============================

This enpoint send a unique code to the email.

    {
        "message": "Confirmation sent",
        "data": {},
        "status": 200
    }
    
    

* * *

Body

    {
        "email": "alhidalgodev@gmail.com"
    }
    

* * *

<strong style="color:#1976D2">POST</strong> - <strong id="1l2nlt05h" class="text-bold request-name">/integrations/slack</strong>

#### Headers

    http://localhost:5000/api/integrations/slack
    

Description

* * *

Body

    {
        "authorizationCode": "f8skj"
    }
    

* * *

<strong style="color:#1976D2">POST</strong> - <strong id="1l2nlt05i" class="text-bold request-name">/integrations/test</strong>

#### Headers

    http://localhost:5000/api/integrations/test
    

Description

When the user request a integration with `Telegram` the body require a `name` property to set the name into integrations.

When the user request a `email` integration, only the `uniqueCode` is requiere.

* * *

Body

    {
        "id": 1
    }
    

* * *

<strong style="color:#9e9e9e">PUT</strong> - <strong id="1l2nlt05j" class="text-bold request-name">/integrations</strong>

#### Headers

    http://localhost:5000/api/integrations
    

Description

When the user request a integration with `Telegram` the body require a `name` property to set the name into integrations.

When the user request a `email` integration, only the `uniqueCode` is requiere.

* * *

Body

    {
        "name": "my new name"
    }
    

* * *

<strong style="color:#C10015">DELETE</strong> - <strong id="1l2nlt05k" class="text-bold request-name">/integrations/{id}</strong>

#### Headers

    http://localhost:5000/api/integrations/1
    

Description

[Response 2xx](/#response-2xx)
==============================

    {
        "message": "Integration deleted",
        "data": {},
        "status": 200
    }
    
    

* * *

Body

* * *

* * *

* * *

<h2 id="1l2nlt05l" class="text-h4 q-mt-md q-mb-xs">Dashboard</h2>

<strong style="color:#21BA45">GET</strong> - <strong id="1l2nlt05m" class="text-bold request-name">/dashboard</strong>

#### Headers

    http://localhost:5000/api/dashboard
    

Description

* * *

Body

* * *

* * *

* * *

<h2 id="1l2nlt05n" class="text-h4 q-mt-md q-mb-xs">Auth</h2>

<strong style="color:#1976D2">POST</strong> - <strong id="1l2nlt05o" class="text-bold request-name">/login</strong>

#### Headers

    http://localhost:5000/api/auth/login
    

Description

* * *

Body

    {
        "email": "admin@tavivo.com",
        "password": "secret"
    }
    

* * *

<strong style="color:#1976D2">POST</strong> - <strong id="1l2nlt05p" class="text-bold request-name">/register</strong>

#### Headers

    http://localhost:5000/api/auth/register
    

Description

* * *

Body

    {
        "fullname": "Jhon Doe",
        "email":"some@d.com",
        "password": "Abc1234567",
        "confirmPassword": "Abc1234567"
    }
    

* * *

<strong style="color:#1976D2">POST</strong> - <strong id="1l2nlt05q" class="text-bold request-name">/change-password</strong>

#### Headers

    http://localhost:5000/api/auth/change-password
    

Description

* * *

Body

    {
        "oldPassword": "secret",
        "password": "SomeSecure12",
        "confirmPassword": "SomeSecure12"
    }
    

* * *

<strong style="color:#1976D2">POST</strong> - <strong id="1l2nlt05r" class="text-bold request-name">/register-confirme-email</strong>

#### Headers

    http://localhost:5000/api/auth/register-email-confirmation
    

Description

* * *

Body

    {
        "uniqueCode": "Abc1234567"
    }
    

* * *

<strong style="color:#1976D2">POST</strong> - <strong id="1l2nlt05s" class="text-bold request-name">/forgot-password</strong>

#### Headers

    http://localhost:5000/api/auth/forgot-password
    

Description

* * *

Body

    {
        "email": "admin@tavivo.com"
    }
    

* * *

<strong style="color:#1976D2">POST</strong> - <strong id="1l2nlt05t" class="text-bold request-name">/recover-password</strong>

#### Headers

    http://localhost:5000/api/auth/recover-password
    

Description

* * *

Body

    {
        "email": "admin@tavivo.com",
        "uniqueCode": "07ce8060-baaa-4882-b13a-c2308e294dcb",
        "password": "SomeSecure12",
        "confirmPassword": "SomeSecure12"
    }
    

* * *

<strong style="color:#21BA45">GET</strong> - <strong id="1l2nlt05u" class="text-bold request-name">/request-register-confirme-email</strong>

#### Headers

    http://localhost:5000/api/auth/request-register-email-confirmation
    

Description

* * *

Body

* * *

<strong style="color:#21BA45">GET</strong> - <strong id="1l2nlt05v" class="text-bold request-name">/me</strong>

#### Headers

    http://localhost:5000/api/auth/me
    

Description

* * *

Body

* * *

* * *

* * *

<h2 id="1l2nlt05w" class="text-h4 q-mt-md q-mb-xs">payments</h2>

<strong style="color:#21BA45">GET</strong> - <strong id="1l2nlt05x" class="text-bold request-name">/paypal-request-token</strong>

#### Headers

    http://localhost:5000/api/payments/paypal-request-token
    

Description

* * *

Body

* * *

<strong style="color:#1976D2">POST</strong> - <strong id="1l2nlt05y" class="text-bold request-name">/paypal-subscription</strong>

#### Headers

    http://localhost:5000/api/payments/paypal-subscription
    

Description

* * *

Body

    {
        "subscriptionId": "I-JTDNVHKUV92A"
    }
    

* * *

<strong style="color:#1976D2">POST</strong> - <strong id="1l2nlt05z" class="text-bold request-name">/paypal-subscription-cancel</strong>

#### Headers

    http://localhost:5000/api/payments/paypal-subscription-cancel
    

Description

* * *

Body

* * *

<strong style="color:#21BA45">GET</strong> - <strong id="1l2nlt060" class="text-bold request-name">/paypal-transactions</strong>

#### Headers

    http://localhost:5000/api/payments/paypal-transactions
    

Description

* * *

Body

* * *

* * *

* * *

<h2 id="1l2nlt061" class="text-h4 q-mt-md q-mb-xs">Pricing</h2>

<strong style="color:#21BA45">GET</strong> - <strong id="1l2nlt062" class="text-bold request-name">/pricing</strong>

#### Headers

    http://localhost:5000/api/pricing
    

Description

* * *

Body

* * *

* * *